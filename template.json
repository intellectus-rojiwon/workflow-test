{
    "AWSTemplateFormatVersion": "2010-09-09",
    "Description": "Generated By Github Action, author rojiwon123",
    "Parameters": {

    },
    "Resources": {
      "TaskDefinition": {},
      "CloudFrontDistribution": {
        "Type": "AWS::CloudFront::Distribution",
        "DependsOn": "LambdaFunctionUrl",
        "Properties": {
          "DistributionConfig": {
            "HttpVersion": "http2",
            "Origins": [
              {
                "Id": {
                  "Fn::Sub": "Lambda-${FunctionName}"
                },
                "DomainName": {
                  "Fn::Select": [
                    2,
                    {
                      "Fn::Split": [
                        "/",
                        {
                          "Fn::GetAtt": [
                            "LambdaFunctionUrl",
                            "FunctionUrl"
                          ]
                        }
                      ]
                    }
                  ]
                },
                "OriginAccessControlId": {
                  "Ref": "OAC"
                },
                "CustomOriginConfig": {
                  "OriginProtocolPolicy": "https-only"
                }
              }
            ],
            "Enabled": true,
            "DefaultCacheBehavior": {
              "TargetOriginId": {
                "Fn::Sub": "Lambda-${FunctionName}"
              },
              "ViewerProtocolPolicy": "redirect-to-https",
              "AllowedMethods": [
                "GET",
                "HEAD",
                "OPTIONS",
                "PUT",
                "POST",
                "PATCH",
                "DELETE"
              ],
              "Compress": true,
              "CachePolicyId": "4135ea2d-6df8-44a3-9df3-4b5a84be39ad",
              "OriginRequestPolicyId": "b689b0a8-53d0-40ab-baf2-68738e2966ac"
            },
            "Aliases": [
              {
                "Ref": "CustomDomain"
              }
            ],
            "ViewerCertificate": {
              "AcmCertificateArn": "ACM_CERTI_ARN",
              "SslSupportMethod": "sni-only",
              "MinimumProtocolVersion": "TLSv1.2_2021"
            }
          }
        }
      },
      "DNSRecord": {
        "Type": "AWS::Route53::RecordSet",
        "Properties": {
          "HostedZoneId": "HOSTED_ZONE_ID",
          "Name": {
            "Ref": "CustomDomain"
          },
          "Type": "A",
          "AliasTarget": {
            "DNSName": {
              "Fn::GetAtt": [
                "CloudFrontDistribution",
                "DomainName"
              ]
            },
            "HostedZoneId": "Z2FDTNDATAQYW2"
          }
        }
      }
    },
    "Outputs": {}
  }